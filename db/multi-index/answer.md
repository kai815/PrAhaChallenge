## 課題１（質問）

## 複合インデックスの仕組み

複数のカラムのインデックスを貼ることです。
複数のカラムにインデックス貼ると、通常のインデックスと何が違うかというのをこれから説明しますね。

id,姓,名,住所,というカラムのテーブルがあったとして、
姓=佐藤,名=太郎として検索した場合、
姓にのみインデックスが貼られているだけだと、
姓=佐藤で名が、太郎だけでなく、次郎や、三郎などのデータがインデックステーブルで引っ掛かり、
そこから、通常のテーブルのデータ内で名=太郎のデータを探します。

姓,名にインデックスが貼られていると、
インデックステーブルの検索の時点で、姓=佐藤,名=太郎のみのデータが引っかかるので、
使い方によってはより速く目的のデータにアクセスできます。

## 複合インデックスの作り方

元々の例

```sql
CREATE INDEX employees_name ON employees (first_name, last_name)
```

変更あと

```sql
CREATE INDEX employees_name ON employees (last_name, first_name)
```

順序が大切で、元々の例の場合だと、
1.first_name = "A" AND last_name="B"
2.first_name = "A"
の場合にのみ、インデックスが効いて、last_name のみの条件時に効かなくなる。

変更後であれば、
1.last_name = "A" AND first_name="B"
2.last_name = "A"
の場合にインデックスがきく
