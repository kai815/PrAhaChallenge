# 課題１（質問）

## 1 の解答

クッキーは、"サーバ"がユーザーのウェブ"ブラウザ"に送信する小さなデータです。HTTP リクエストを受け取った後に、レスポンスで "Set-Cookie""ヘッダ"を用いることで送信されます。クッキーはブラウザに保存され、その後のリクエストと共に同じ"サーバ"へ返送されます。一般的には、二つのリクエストが同じ"ブラウザー"から送信されたものであるかを知るために使用されます。

## 2 の解答

送信されます。（送信されたとしても無視されます。）異なるドメイン間でのクッキーの共有はできないです。これができてしまうと、脆弱性の原因となってしまうためだと考えられます。

## 3 の解答

送信されます。ポート番号では分断されないためです。

## 4 の解答

送信されないです。別のドメインなためです。

## 5 の解答

送信されます。Domain 属性に"hoge.com"を指定した場合、そのサブドメインにもクッキーが送信されるためです。

## 6

HttpOnly 属性を付与する。

## 7

Secure 属性を付与する。

## 8

付与しないとセッションが終了されるとそのクッキーが削除されるが、Expires 属性で指定された時刻が過ぎた後に削除される。

## 9

SameSite 属性はオリジン間のリクエスト時に一緒にクッキーを送るべきを指定します。

・Strict→ クッキーが発生したものと同じサイトのみ

・Lax→Strict と似ているが、リンクを辿るなどで外部のサイトからある URL に移動した場合は送信しない

・None→ サイト間リクエストに制限はない

## 10

1.名前やメールアドレスなどの個人情報

2.パスワード

3.クレジットカードの番号などの決済情報

## 11

### クッキーを使うべきタイミング

サーバに送る必要がある、もしくはサーバからセットされるものでクライアントサイドでも必要なもの。特に機密的な情報を保存する場合。（例：セッション ID）

### ローカルストレージを使うべきタイミング

機密情報ではないもので、サーバに送る必要のないもの。一時的なアプリケーションの選択状態などを保存する場合。（例：一覧ページの各アイテムの選択状態, 背景色をユーザカスタマイズする場合など）

## 12

### 仕組み

攻撃者が掲示板の投稿画面に悪意のあるスクリプトが付いたサイトへのリンクを埋め込みます。ユーザがそのリンクをクリックすると悪意のあるスクリプトが動き、cookie 情報が流出してしまう恐れがあります。

### 対策

1.攻撃者が悪意のあるスクリプトを掲示板の投稿内容に投稿できないように適切にエスケープすることです。そうすることで、スクリプトはただの文字列となり出力されます。

2.cookie の情報に関していえば、可能な限り HttpOnly 属性を付与して、スクリプトから取得できないようにすることです。
